<?xml version="1.0" encoding="UTF-8"?>
<assembly>
	<id>${version}-r${buildNumber}</id>
	<formats>
		<format>zip</format>
	</formats>
	<includeBaseDirectory>true</includeBaseDirectory>
	<fileSets>
    	<fileSet>
      		<directory>src/main/webapp</directory>
      		<outputDirectory>WebContent</outputDirectory>      		
			<excludes>
				<exclude>/tools/cfg.jsp</exclude>
				<exclude>/tools/login.jsp</exclude>
				<exclude>/tools/options.jsp</exclude>
				<exclude>/tools/privilege.jsp</exclude>
				<exclude>/tools/restore.jsp</exclude>
				<exclude>/tools/test.jsp</exclude>
			</excludes>			
    	</fileSet>
    	<fileSet>
      		<directory>src/main/assemble/conf</directory>
      		<outputDirectory>conf</outputDirectory>    
    	</fileSet>
    	<fileSet>
      		<directory>src/main/assemble/bin</directory>
      		<outputDirectory>/</outputDirectory>
			<includes>
				<include>service.bat</include>
				<include>service.sh</include>
			</includes>
			<fileMode>0755</fileMode>
    	</fileSet>
    	<fileSet>
      		<directory>src/main/assemble/bin</directory>
      		<outputDirectory>/bin</outputDirectory>
			<excludes>
				<exclude>service.bat</exclude>
				<exclude>service.sh</exclude>
			</excludes>
    	</fileSet>
  	</fileSets>	
	<dependencySets>
		<dependencySet>
			<outputDirectory>lib</outputDirectory>
	      	<scope>provided</scope>
	      	<includes>
		        <include>*:jar</include>
		    </includes>	
		    <excludes>
		        <exclude>koal.szt0901:*</exclude>
		    </excludes>	      	
      	</dependencySet>
      	<dependencySet>
			<outputDirectory>WebContent/WEB-INF/lib</outputDirectory>
	      	<scope>runtime</scope>    
	      	<includes>
		        <include>*:jar</include>		        
		    </includes>	      	
      	</dependencySet>
		<dependencySet>
			<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>	      
	      	<outputDirectory>WebContent/ocx</outputDirectory> 
	      	<includes>
	      		<include>*:cab</include>	        
		    </includes>	 
      	</dependencySet>
      	<dependencySet>
			<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>	      
	      	<outputDirectory>WebContent/ocx</outputDirectory> 
	      	<includes>
	      		<include>*:dll</include>		        
		    </includes>	 
      	</dependencySet>
      	<dependencySet>
			<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>	      
	      	<outputDirectory>WebContent/ocx</outputDirectory> 
	      	<includes>
	      		<include>*:ocx</include>		        
		    </includes>	 
      	</dependencySet>   
      	<dependencySet>
			<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>	      
	      	<outputDirectory>WebContent/WEB-INF/etc</outputDirectory> 
	      	<includes>
	      		<include>*:gdb</include>		        
		    </includes>	 
      	</dependencySet>      	    			
	</dependencySets>
</assembly>